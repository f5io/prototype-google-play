!function e(t,n,i){function a(r,s){if(!n[r]){if(!t[r]){var u="function"==typeof require&&require;if(!s&&u)return u(r,!0);if(o)return o(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[r]={exports:{}};t[r][0].call(d.exports,function(e){var n=t[r][1][e];return a(n?n:e)},d,d.exports,e,t,n,i)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<i.length;r++)a(i[r]);return a}({1:[function(e){function t(e,t,c,d){c=c||i.global.defaultEntry,d=d||i.global.defaultLanguage,i.global.language=d,i.global.entry=c,i.global.isCeltra&&s.init(e,window.Creative,t),s.trackEvent("ad-initialized");{var l=Math.min(460,Math.round(.8*n.windowWidth())),f=2*l+50,h="left",p="right",m="in",g="out",v=n('[role="container"]')[0],w=n('[role="arrows"]')[0],y=(n('[role="light"]')[0],n('[role="main"]')[0]),x=n('[role="cube"]')[0],b=n('[role="menu"]')[0],C=n('[role="loader"]')[0];n('[role="background"]')[0]}v.style[n.CSS_PERSPECTIVE]=f+"px";var E=i.global.isCeltra?i.BASE_URL:"";o.load([E+"assets/sound/click.mp3",E+"assets/img/cubes/"+d+"/"+c+"/side1.jpg",E+"assets/img/cubes/"+d+"/"+c+"/side2.jpg",E+"assets/img/cubes/"+d+"/"+c+"/side3.jpg",E+"assets/img/cubes/"+d+"/"+c+"/side4.jpg",E+"assets/img/cubes/"+d+"/"+c+"/side5.jpg",E+"assets/img/cubes/"+d+"/"+c+"/side6.jpg"]).then(function(){function e(e,i){i=i||p;var o=n.getElement("div","cube-container",{},{});x.appendChild(o);var s=Object.create(a);return s.init(l,l,0,e,o,{autoListen:!1,useInertia:!1,useBackgrounds:!0,useContent:!0,normaliseFacialRotation:!0}),s.getNormalisedFaceRotation(s.rotation,!0),s.render(),t(m,s,i),r.defineCubeProperties([s]),s}function t(e,t,i){return new Promise(function(a){var o=t.target,r=t.shadow,s=1.2*n.windowWidth(),c=function(){w.classList.remove("off");var e=n.emitter.on("first_cube_interaction",function(){w.classList.add("off"),e()});t.addInteractionListener()};e!==m||M?e===g&&(c=function(){o.parentNode.removeChild(r.element),o.parentNode.removeChild(o),t=null}):c=f;var d=e===g?0:i===h?-s:s,l=e===m?0:i===h?-s:s;o.style[n.CSS_TRANSFORM]+=" translateX("+d+"px)",r.translate.X=d,r.render(),u.tween().from(d).to(l).ease(u.easing[e===m?"easeOutCirc":"easeInCirc"]).step(function(e){o.style[n.CSS_TRANSFORM]=o.style[n.CSS_TRANSFORM].replace(/translateX\(.+\)/g,function(){return"translateX("+e+"px)"}),r.translate.X=1.1*e,r.render()}).complete(function(){c(t),a()}).start()})}function f(e){function t(s){u.tween().to(360).delay(400).duration(1e3).ease(u.easing.easeInOutQuad).step(function(t){a=a||t;var u=n.nearest(t,90),c=n.nearest(a,90);u!==c&&i.global.useSound&&e.sound.play(),e.rotation[r[s]]=o+t,e.render(),a=t}).complete(function(){if("LR"!==s){C.classList.add("off"),w.classList.remove("off");var i=n.emitter.on("first_cube_interaction",function(){w.classList.add("off"),i()});return void e.addInteractionListener()}a=void 0,e.forceRotationOfOppositeForFirstFace(),t("UD")}).start()}var a,o=0,r=e.getAxisDefinition(e.rotation);t("LR")}s.trackEvent("cube-loaded-"+c);var M,k=0,S=["music","books","apps","movies"],q=[];b.querySelector("."+c).classList.add("selected"),v.className=b.className="border-"+c,k=S.indexOf(c),n.emitter.on("debug_panel",function(e){y.classList[e?"add":"remove"]("covered")}),M=e(S[k]),S.forEach(function(n,i){var a=b.querySelector("."+n);q.push(a),a.addEventListener("touchend",function(){if(!a.classList.contains("selected")){s.trackEvent("menu-tapped-"+n,!0),q.forEach(function(e){e.classList.remove("selected")}),v.className=b.className="border-"+n,a.classList.add("selected");var r=k>i?h:p,u=k>i?p:h;k=i,C.classList.remove("off");var c=!w.classList.contains("off");w.classList.add("off"),t(g,M,u).then(function(){for(var t=[],i=1,a=6;a>=i;i++)t.push(E+"assets/img/cubes/"+d+"/"+n+"/side"+i+".jpg");o.load(t).then(function(){s.trackEvent("cube-loaded-"+n),C.classList.add("off"),c&&w.classList.remove("off"),M=e(n,r)})})}})}),document.addEventListener("touchmove",n.prevent)})}var n=e("./modules/utilities"),i=e("./modules/config"),a=e("./modules/cube"),o=(e("./modules/messaging"),e("./modules/assetmanager")),r=e("./modules/debug"),s=e("./modules/tracking"),u=e("interpol");n.isDefined(window.screen)&&n.isDefined(window.creative)?(i.global.isCeltra=!0,window.InitCube=t):n.ready(t)},{"./modules/assetmanager":5,"./modules/config":9,"./modules/cube":13,"./modules/debug":17,"./modules/messaging":18,"./modules/tracking":19,"./modules/utilities":20,interpol:2}],2:[function(e,t){(function(n){__browserify_shim_require__=e,function(e,t,n,i,a){!function(t){"undefined"!=typeof e&&e.exports?e.exports=t(window):self.Interpol=self.iN=t(window)}(function(e){"use strict";var t={};t.fps=60,t.easing={easeNone:function(e,t,n,i){return n*e/i+t},easeInQuad:function(e,t,n,i){return n*(e/=i)*e+t},easeOutQuad:function(e,t,n,i){return-n*(e/=i)*(e-2)+t},easeInOutQuad:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,i){return n*(e/=i)*e*e+t},easeOutCubic:function(e,t,n,i){return n*((e=e/i-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,i){return n*(e/=i)*e*e*e+t},easeOutQuart:function(e,t,n,i){return-n*((e=e/i-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,i){return n*(e/=i)*e*e*e*e+t},easeOutQuint:function(e,t,n,i){return n*((e=e/i-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,i){return-n*Math.cos(e/i*(Math.PI/2))+n+t},easeOutSine:function(e,t,n,i){return n*Math.sin(e/i*(Math.PI/2))+t},easeInOutSine:function(e,t,n,i){return-n/2*(Math.cos(Math.PI*e/i)-1)+t},easeInExpo:function(e,t,n,i){return 0==e?t:n*Math.pow(2,10*(e/i-1))+t},easeOutExpo:function(e,t,n,i){return e==i?t+n:n*(-Math.pow(2,-10*e/i)+1)+t},easeInOutExpo:function(e,t,n,i){return 0==e?t:e==i?t+n:(e/=i/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(-Math.pow(2,-10*--e)+2)+t},easeInCirc:function(e,t,n,i){return-n*(Math.sqrt(1-(e/=i)*e)-1)+t},easeOutCirc:function(e,t,n,i){return n*Math.sqrt(1-(e=e/i-1)*e)+t},easeInOutCirc:function(e,t,n,i){return(e/=i/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,n,i){var a=1.70158,o=0,r=n;if(0==e)return t;if(1==(e/=i))return t+n;if(o||(o=.3*i),r<Math.abs(n)){r=n;var a=o/4}else var a=o/(2*Math.PI)*Math.asin(n/r);return-(r*Math.pow(2,10*(e-=1))*Math.sin(2*(e*i-a)*Math.PI/o))+t},easeOutElastic:function(e,t,n,i){var a=1.70158,o=0,r=n;if(0==e)return t;if(1==(e/=i))return t+n;if(o||(o=.3*i),r<Math.abs(n)){r=n;var a=o/4}else var a=o/(2*Math.PI)*Math.asin(n/r);return r*Math.pow(2,-10*e)*Math.sin(2*(e*i-a)*Math.PI/o)+n+t},easeInOutElastic:function(e,t,n,i){var a=1.70158,o=0,r=n;if(0==e)return t;if(2==(e/=i/2))return t+n;if(o||(o=.3*i*1.5),r<Math.abs(n)){r=n;var a=o/4}else var a=o/(2*Math.PI)*Math.asin(n/r);return 1>e?-.5*r*Math.pow(2,10*(e-=1))*Math.sin(2*(e*i-a)*Math.PI/o)+t:r*Math.pow(2,-10*(e-=1))*Math.sin(2*(e*i-a)*Math.PI/o)*.5+n+t},easeInBack:function(e,t,n,i,a){return void 0==a&&(a=1.70158),n*(e/=i)*e*((a+1)*e-a)+t},easeOutBack:function(e,t,n,i,a){return void 0==a&&(a=1.70158),n*((e=e/i-1)*e*((a+1)*e+a)+1)+t},easeInOutBack:function(e,t,n,i,a){return void 0==a&&(a=1.70158),(e/=i/2)<1?n/2*e*e*(((a*=1.525)+1)*e-a)+t:n/2*((e-=2)*e*(((a*=1.525)+1)*e+a)+2)+t},easeInBounce:function(e,t,n,i){return n-this.easeOutBounce(i-e,0,n,i)+t},easeOutBounce:function(e,t,n,i){return(e/=i)<1/2.75?7.5625*n*e*e+t:2/2.75>e?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:2.5/2.75>e?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,n,i){return i/2>e?.5*this.easeInBounce(2*e,0,n,i)+t:.5*this.easeOutBounce(2*e-i,0,n,i)+.5*n+t}},t.rafLast=0,t.requestAnimFrame=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(e){var n=(new Date).getTime(),i=Math.max(0,16-(n-t.rafLast)),a=window.setTimeout(function(){e(n+i)},i);return t.rafLast=n+i,a}}(),t.cancelAnimFrame=function(){return e.cancelAnimationFrame||e.cancelRequestAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame||e.mozCancelAnimationFrame||e.mozCancelRequestAnimationFrame||function(e){clearTimeout(e)}}(),t.noop=function(){},t.tick=function(){var n=this;return function(){if(n.raf=t.requestAnimFrame.call(e,t.tick.call(n)),n.now=(new Date).getTime(),n.delta=n.now-n.then,n.delta>n.interval){for(var i=Object.keys(n.pipeline),a=i.length,o=0;a>o;o++)n.pipeline[i[o]]();n.then=n.now-n.delta%n.interval}}},t.FramePipeline=function(){var e=this;e.pipeline={},e.then=(new Date).getTime(),e.now=void 0,e.raf=void 0,e.delta=void 0,e.interval=1e3/t.fps},t.FramePipeline.prototype={add:function(e,t){this.pipeline[e]=t},remove:function(e){delete this.pipeline[e]},start:function(){t.tick.call(this)()},has:function(e){return e in this.pipeline},pause:function(){t.cancelAnimFrame.call(e,this.raf)},setFPS:function(e){this.interval=1e3/e}},t.pipeline=new t.FramePipeline,t.pipeline.start(),t.TweenController=function(){this.q=[]},t.TweenController.prototype={queue:function(){var e=new t.Tween(this),n=this.q[this.q.length-1];return!n||n&&n.hasCompleted?e.canStart=!0:(e.canStart=!1,n.then(function(){e.canStart=!0,e.start()})),this.q.push(e),e}},t.Tween=function(e){var n=this;n.name="$interpol-"+parseInt(Math.random()*(new Date).getTime()),n.controller=e||new t.TweenController,n.startVal=0,n.endVal=0,n.differences={},n.canStart=!0,n.hasStarted=!1,n.hasCompleted=!1,n.tweenDuration=400,n.delayDuration=0,n.isDelayed=!1,n.repeatCount=0,n.paused=!1,n.easing=t.easing.easeNone,n.onStep=t.noop,n.onComplete=t.noop,n.onStopped=t.noop,n.andThen=t.noop},t.Tween.prototype={from:function(e){return this.startVal=e,this},to:function(e){return this.endVal=e,this},duration:function(e){return this.tweenDuration=e,this},delay:function(e){return this.delayDuration=e,this},repeat:function(e){return this.repeatCount=e,this},ease:function(e){return this.easing=e,this},step:function(e){return this.onStep=e,this},complete:function(e){return this.onComplete=e,this},stopped:function(e){return this.onStopped=e,this},then:function(e){return this.andThen=e,this},reverse:function(){var e=this.startVal,t=this.endVal;this.startVal=t,this.endVal=e,this.start()},start:function(e){var n=this;if(!n.canStart)return n;if(n.delayDuration>0&&!n.isDelayed)return setTimeout(function(){n.start(e)},n.delayDuration),n.isDelayed=!0,n;e&&e.apply(n);var i=1e3/t.fps,a=n.tweenDuration/i;if("object"==typeof n.endVal){"object"!=typeof n.startVal&&(n.startVal={});for(var o in n.endVal)n.startVal.hasOwnProperty(o)||(n.startVal[o]=0),n.differences[o]=n.endVal[o]-n.startVal[o]}else n.differences["$itp-main"]=n.endVal-n.startVal;return n.hasStarted=!0,n.stpFn=function(){if(a>=0&&n.hasStarted){var e=n.tweenDuration;e-=a*i,a--;var o=n.differences.hasOwnProperty("$itp-main")?n.easing.call(t.easing,e,n.startVal,n.differences["$itp-main"],n.tweenDuration):{};if("object"==typeof o)for(var r in n.differences)o[r]=n.easing.call(t.easing,e,n.startVal[r],n.differences[r],n.tweenDuration);n.onStep.call(n,o)}else n.hasStarted?(t.pipeline.remove(n.name),n.hasStarted=!1,n.isDelayed=!1,n.repeatCount>0||-1===n.repeatCount||1/0===n.repeatCount?(n.repeatCount=n.repeatCount<0||1/0===n.repeatCount?n.repeatCount:n.repeatCount--,n.onComplete.call(n,n.endVal),n.start()):(n.hasCompleted=!0,n.onComplete.call(n,n.endVal),n.andThen.call(n),n.controller.q.shift())):(t.pipeline.remove(n.name),n.onStopped.call(n))},t.pipeline.add(n.name,n.stpFn),n},stop:function(){return this.hasStarted=!1,this},pause:function(){return t.pipeline.remove(this.name),this},play:function(){return t.pipeline.has(this.name)?void 0:(t.pipeline.add(this.name,this.stpFn),this)},queue:function(){return this.controller.queue()}};var n=function(e){return t.fps=e,t.pipeline.setFPS(t.fps),n};return n.easing=t.easing,n.tween=function(){return new t.Tween},n.queue=function(){return(new t.TweenController).queue()},n.pipeline=t.pipeline,n}),a("undefined"!=typeof Interpol?Interpol:window.Interpol)}.call(n,void 0,void 0,void 0,void 0,function(e){t.exports=e})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t){(function(n){__browserify_shim_require__=e,function(e,t,n,i,a){var o=function(){var e=Date.now(),t=e,n=0,i=1/0,a=0,o=0,r=1/0,s=0,u=0,c=0,d=document.createElement("div");d.id="stats",d.addEventListener("mousedown",function(e){e.preventDefault(),w(++c%2)},!1),d.style.cssText="width:80px;opacity:0.9;cursor:pointer";var l=document.createElement("div");l.id="fps",l.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#002",d.appendChild(l);var f=document.createElement("div");f.id="fpsText",f.style.cssText="color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",f.innerHTML="FPS",l.appendChild(f);var h=document.createElement("div");for(h.id="fpsGraph",h.style.cssText="position:relative;width:74px;height:30px;background-color:#0ff",l.appendChild(h);h.children.length<74;){var p=document.createElement("span");p.style.cssText="width:1px;height:30px;float:left;background-color:#113",h.appendChild(p)}var m=document.createElement("div");m.id="ms",m.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;display:none",d.appendChild(m);var g=document.createElement("div");g.id="msText",g.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",g.innerHTML="MS",m.appendChild(g);var v=document.createElement("div");for(v.id="msGraph",v.style.cssText="position:relative;width:74px;height:30px;background-color:#0f0",m.appendChild(v);v.children.length<74;){var p=document.createElement("span");p.style.cssText="width:1px;height:30px;float:left;background-color:#131",v.appendChild(p)}var w=function(e){switch(c=e){case 0:l.style.display="block",m.style.display="none";break;case 1:l.style.display="none",m.style.display="block"}},y=function(e,t){var n=e.appendChild(e.firstChild);n.style.height=t+"px"};return{REVISION:11,domElement:d,setMode:w,begin:function(){e=Date.now()},end:function(){var c=Date.now();return n=c-e,i=Math.min(i,n),a=Math.max(a,n),g.textContent=n+" MS ("+i+"-"+a+")",y(v,Math.min(30,30-n/200*30)),u++,c>t+1e3&&(o=Math.round(1e3*u/(c-t)),r=Math.min(r,o),s=Math.max(s,o),f.textContent=o+" FPS ("+r+"-"+s+")",y(h,Math.min(30,30-o/100*30)),t=c,u=0),c},update:function(){e=this.end()}}};a("undefined"!=typeof o?o:window.Stats)}.call(n,void 0,void 0,void 0,void 0,function(e){t.exports=e})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,t){function n(e){for(var t,n,i,a,o,r="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=new Uint8Array(e),c=u.byteLength,d=c%3,l=c-d,f=0;l>f;f+=3)o=u[f]<<16|u[f+1]<<8|u[f+2],t=(16515072&o)>>18,n=(258048&o)>>12,i=(4032&o)>>6,a=63&o,r+=s[t]+s[n]+s[i]+s[a];return 1==d?(o=u[l],t=(252&o)>>2,n=(3&o)<<4,r+=s[t]+s[n]+"=="):2==d&&(o=u[l]<<8|u[l+1],t=(64512&o)>>10,n=(1008&o)>>4,i=(15&o)<<2,r+=s[t]+s[n]+s[i]+"="),r}var i=function(e,t,i){var a,o=!1,r={uri:function(){return e},source:e};if(!t||!i)return r;var s=/\.(\w+)$/.exec(e)[1];a="data:image/"+s+";base64,"+n(t),r.uri=function(){return a},o=!0,i(r)};t.exports=i},{}],5:[function(e,t){function n(e){return function(t){return e.test(t)}}function i(e){return function(t){return t in s?!1:(s[t]=e(t),!0)}}var a=e("./loader"),o=e("./image"),r=e("./sound"),s={},u=/\.(gif|jpeg|jpg|png)$/,c=/\.(mp3|mp4|ogg)$/,d={};d.load=function(e){var t,d,l=[];"string"==typeof e?l.push(e):l=l.concat(e),t=l.filter(n(c)).filter(i(r)),d=l.filter(n(u)).filter(i(o));var f=new a(d,o),h=new a(t,r);return Promise.all([h.load(),f.load()]).then(function(e){var t=e[0],n=e[1];t.forEach(function(e){s[e.source]=e}),n.forEach(function(e){s[e.source]=e})})},d.get=function(e){return e in s?s[e]:void 0},t.exports=d},{"./image":4,"./loader":6,"./sound":8}],6:[function(e,t){var n=function(e,t){this.files=e,this.transform=t||function(e,t,n){return n(t)}};n.prototype.loadBuffer=function(e){var t=this;return new Promise(function(n,i){var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer",a.onload=function(){t.transform(e,a.response,function(e){n(e)})},a.onerror=i,a.send()})},n.prototype.load=function(){var e=this,t=e.files.map(function(t){return e.loadBuffer(t)});return Promise.all(t)},t.exports=n},{}],7:[function(e,t){t.exports=window.AudioContext||window.webAudioContext||window.webkitAudioContext},{}],8:[function(e,t){function n(e,t,n){var i,o=!1,r={play:function(){if(o){var e=a.createBufferSource();e.buffer=i,e.onended=function(){e=null},e.connect(a.destination),e.start(0)}},source:e};return t&&n?void a.decodeAudioData(t,function(e){i=e,o=!0,n(r)}):r}var i=e("./context"),a=new i;t.exports=n},{"./context":7}],9:[function(e,t){var n=e("./utilities"),i="http://playful-discovery.s3-website-eu-west-1.amazonaws.com/",a={};["displayMetrics","useSound","useAccelerometer","useGamification","useDynamicLighting","useBackgroundAnimation","useMessaging","isCeltra"].forEach(function(e){var t=!1;Object.defineProperty(a,e,{enumerable:!0,set:function(i){t=i,n.emitter.emit("global_config_change",e,t)},get:function(){return t}})}),a.displayMetrics=!1,a.useSound=!0,a.useAccelerometer=!0,a.useDynamicLighting=!0,a.defaultLanguage="en",a.defaultEntry="music";var o={castShadow:!0,autoListen:!0,useInertia:!1,useBackgrounds:!0,useContent:!1,useVideo:!1,useGif:!1,cropLargeFaces:!1,isSequential:!1,normaliseFacialRotation:!0},r={displayMetrics:"Display Metrics",useSound:"Sound",useMessaging:"Post Messaging",useGamification:"Gamification",useDynamicLighting:"Dynamic Lighting",useBackgroundAnimation:"Background Animation",useInertia:"Inertial Interaction",useAccelerometer:"Accelerometer",useBackgrounds:"Face Backgrounds",useContent:"Face Content",useVideo:"Video Face Content",useGif:"GIF Face Content",cropLargeFaces:"Crop Full Face Assets",isSequential:"Sequential Interaction",normaliseFacialRotation:"Normalise Face Rotation",isCeltra:"Celtra Platform",castShadow:"Cast Shadow"},s={displayMetrics:"Display fps (frames per second) and frame time (in milliseconds).",useSound:"Have sounds throughout the Ad.",useMessaging:"For interaction with Ad Server APIs as an Iframe.",useGamification:'Puzzle comprised of four cubes, match the sides to "win".',useDynamicLighting:"Dynamically light the cubes with a forward facing light.",useBackgroundAnimation:"Turn on a simple background animation for performance testing.",useInertia:'Allow the user to "flick" the cube and it to gradually halt movement.',useAccelerometer:"Turn on rotation from Accelerometer/Gyro data.",useBackgrounds:"Show backgrounds on the cube faces.",useContent:"Show content on the cube faces.",useVideo:"Show a video on one face of the cube.",useGif:"Show a GIF on one face of the cube.",cropLargeFaces:"Use the full face assets on the gamified cube to reduce ad weight.",isSequential:"Always display the next face of the cube no matter which way it turns.",normaliseFacialRotation:"Always display cube faces at the correct orientation.",isCeltra:"Will be green if we are in Celtra.",castShadow:"Cast a shadow underneath the cube."};t.exports={BASE_URL:i,global:a,cube:o,titles:r,descriptions:s}},{"./utilities":20}],10:[function(e,t){var n=e("../utilities"),i={init:function(e,t,n,i,a){this.id=Math.random().toString(36).substr(5,10),this.width=e,this.height=t,this.index=n,this.name=i,this.target=a,this.rotation={X:0,Y:0,Z:0},this.translate={X:0,Y:0,Z:0},this.element=this.getElement(),this.target.appendChild(this.element)},getElement:function(){return n.getElement("div","common",{},{})},render:function(){this.element.style[n.CSS_TRANSFORM]="rotateX("+this.rotation.X+"deg) rotateY("+this.rotation.Y+"deg) rotateZ("+this.rotation.Z+"deg) translateX("+this.translate.X+"px) translateY("+this.translate.Y+"px) translateZ("+this.translate.Z+"px)"},remove:function(){this.element.parentNode.removeChild(this.element)}};t.exports=i},{"../utilities":20}],11:[function(e,t){var n=(e("../../utilities"),e("../../config")),i=(e("../../messaging"),e("../../assetmanager"),e("../../tracking")),a=(n.global.isCeltra?n.BASE_URL:"",{background:"assets/img/cubes/{language}/{name}/side{i}.jpg",html:function(){return'<a href="{link}" class="btn-buy"></a>'},onload:function(e){e.querySelector("a[href]").addEventListener("tap",function(e){i.trackEvent("cta-clicked",!0),i.goToURL(e.target.href)})},base:"https://ad.doubleclick.net/ddm/clk/{id}",entryId:{apps:"116389570",books:"116389246",movies:"116389710",music:"116389243"},music:{en:{apps:{1:"289365522;{e};r",2:"289365520;{e};p",3:"289365518;{e};w",4:"289365517;{e};v",5:"289365515;{e};t"},books:{1:"289364270;{e};q",2:"289364273;{e};t",3:"289364272;{e};s",4:"289364266;{e};v",5:"289364267;{e};w"},movies:{1:"289365523;{e};o",2:"289365521;{e};m",3:"289365519;{e};t",4:"289365533;{e};p",5:"289365531;{e};n"},music:{1:"289364293;{e};s",2:"289364290;{e};p",3:"289364291;{e};q",4:"289364288;{e};w",5:"289364289;{e};x"}},de:{apps:{1:"289365522;{id};r",2:"289365520;{id};p",3:"289365518;{id};w",4:"289365517;{id};v",5:"289365515;{id};t"},books:{1:"289364270;{id};q",2:"289364273;{id};t",3:"289364272;{id};s",4:"289364266;{id};v",5:"289364267;{id};w"},movies:{1:"289365523;{id};o",2:"289365521;{id};m",3:"289365519;{id};t",4:"289365533;{id};p",5:"289365531;{id};n"},music:{1:"289364293;{id};s",2:"289364290;{id};p",3:"289364291;{id};q",4:"289364288;{id};w",5:"289364289;{id};x"}},fr:{apps:{1:"289365522;{id};r",2:"289365520;{id};p",3:"289365518;{id};w",4:"289365517;{id};v",5:"289365515;{id};t"},books:{1:"289364270;{id};q",2:"289364273;{id};t",3:"289364272;{id};s",4:"289364266;{id};v",5:"289364267;{id};w"},movies:{1:"289365523;{id};o",2:"289365521;{id};m",3:"289365519;{id};t",4:"289365533;{id};p",5:"289365531;{id};n"},music:{1:"289364293;{id};s",2:"289364290;{id};p",3:"289364291;{id};q",4:"289364288;{id};w",5:"289364289;{id};x"}},ru:{apps:{1:"289365522;{id};r",2:"289365520;{id};p",3:"289365518;{id};w",4:"289365517;{id};v",5:"289365515;{id};t"},books:{1:"289364270;{id};q",2:"289364273;{id};t",3:"289364272;{id};s",4:"289364266;{id};v",5:"289364267;{id};w"},movies:{1:"289365523;{id};o",2:"289365521;{id};m",3:"289365519;{id};t",4:"289365533;{id};p",5:"289365531;{id};n"},music:{1:"289364293;{id};s",2:"289364290;{id};p",3:"289364291;{id};q",4:"289364288;{id};w",5:"289364289;{id};x"}},es:{apps:{1:"289365522;{id};r",2:"289365520;{id};p",3:"289365518;{id};w",4:"289365517;{id};v",5:"289365515;{id};t"},books:{1:"289364270;{id};q",2:"289364273;{id};t",3:"289364272;{id};s",4:"289364266;{id};v",5:"289364267;{id};w"},movies:{1:"289365523;{id};o",2:"289365521;{id};m",3:"289365519;{id};t",4:"289365533;{id};p",5:"289365531;{id};n"},music:{1:"289364293;{id};s",2:"289364290;{id};p",3:"289364291;{id};q",4:"289364288;{id};w",5:"289364289;{id};x"}},it:{apps:{1:"289365522;{id};r",2:"289365520;{id};p",3:"289365518;{id};w",4:"289365517;{id};v",5:"289365515;{id};t"},books:{1:"289364270;{id};q",2:"289364273;{id};t",3:"289364272;{id};s",4:"289364266;{id};v",5:"289364267;{id};w"},movies:{1:"289365523;{id};o",2:"289365521;{id};m",3:"289365519;{id};t",4:"289365533;{id};p",5:"289365531;{id};n"},music:{1:"289364293;{id};s",2:"289364290;{id};p",3:"289364291;{id};q",4:"289364288;{id};w",5:"289364289;{id};x"}}},movies:{en:{apps:{1:"289365503;{e};q",2:"289365500;{e};n",3:"289365501;{e};o",4:"289364298;{e};a",5:"289364299;{e};b"},books:{1:"289364265;{e};u",2:"289364258;{e};w",3:"289364259;{e};x",4:"289364260;{e};p",5:"289364261;{e};q"},movies:{1:"289365502;{e};l",2:"289365516;{e};q",3:"289365514;{e};o",4:"289365512;{e};m",5:"289365510;{e};k"},music:{1:"289364284;{e};s",2:"289364279;{e};w",3:"289364278;{e};v",4:"289364281;{e};p",5:"289364280;{e};o"}},de:{apps:{1:"289365503;{e};q",2:"289365500;{e};n",3:"289365501;{e};o",4:"289364298;{e};a",5:"289364299;{e};b"},books:{1:"289364265;{e};u",2:"289364258;{e};w",3:"289364259;{e};x",4:"289364260;{e};p",5:"289364261;{e};q"},movies:{1:"289365502;{e};l",2:"289365516;{e};q",3:"289365514;{e};o",4:"289365512;{e};m",5:"289365510;{e};k"},music:{1:"289364284;{e};s",2:"289364279;{e};w",3:"289364278;{e};v",4:"289364281;{e};p",5:"289364280;{e};o"}},fr:{apps:{1:"289365503;{e};q",2:"289365500;{e};n",3:"289365501;{e};o",4:"289364298;{e};a",5:"289364299;{e};b"},books:{1:"289364265;{e};u",2:"289364258;{e};w",3:"289364259;{e};x",4:"289364260;{e};p",5:"289364261;{e};q"},movies:{1:"289365502;{e};l",2:"289365516;{e};q",3:"289365514;{e};o",4:"289365512;{e};m",5:"289365510;{e};k"},music:{1:"289364284;{e};s",2:"289364279;{e};w",3:"289364278;{e};v",4:"289364281;{e};p",5:"289364280;{e};o"}},ru:{apps:{1:"289365503;{e};q",2:"289365500;{e};n",3:"289365501;{e};o",4:"289364298;{e};a",5:"289364299;{e};b"},books:{1:"289364265;{e};u",2:"289364258;{e};w",3:"289364259;{e};x",4:"289364260;{e};p",5:"289364261;{e};q"},movies:{1:"289365502;{e};l",2:"289365516;{e};q",3:"289365514;{e};o",4:"289365512;{e};m",5:"289365510;{e};k"},music:{1:"289364284;{e};s",2:"289364279;{e};w",3:"289364278;{e};v",4:"289364281;{e};p",5:"289364280;{e};o"}},es:{apps:{1:"289365503;{e};q",2:"289365500;{e};n",3:"289365501;{e};o",4:"289364298;{e};a",5:"289364299;{e};b"},books:{1:"289364265;{e};u",2:"289364258;{e};w",3:"289364259;{e};x",4:"289364260;{e};p",5:"289364261;{e};q"},movies:{1:"289365502;{e};l",2:"289365516;{e};q",3:"289365514;{e};o",4:"289365512;{e};m",5:"289365510;{e};k"},music:{1:"289364284;{e};s",2:"289364279;{e};w",3:"289364278;{e};v",4:"289364281;{e};p",5:"289364280;{e};o"}},it:{apps:{1:"289365503;{e};q",2:"289365500;{e};n",3:"289365501;{e};o",4:"289364298;{e};a",5:"289364299;{e};b"},books:{1:"289364265;{e};u",2:"289364258;{e};w",3:"289364259;{e};x",4:"289364260;{e};p",5:"289364261;{e};q"},movies:{1:"289365502;{e};l",2:"289365516;{e};q",3:"289365514;{e};o",4:"289365512;{e};m",5:"289365510;{e};k"},music:{1:"289364284;{e};s",2:"289364279;{e};w",3:"289364278;{e};v",4:"289364281;{e};p",5:"289364280;{e};o"}}},apps:{en:{apps:{1:"289365532;{e};s",2:"289365530;{e};q",3:"289365528;{e};x",4:"289365526;{e};v",5:"289365524;{e};t"},books:{1:"289364275;{e};v",2:"289364274;{e};u",3:"289364277;{e};x",4:"289364276;{e};w",5:"289364271;{e};r"},movies:{1:"289364254;{e};o",2:"289364255;{e};p",3:"289364256;{e};q",4:"289364257;{e};r",5:"289365525;{e};q"},music:{1:"289364296;{e};v",2:"289364297;{e};w",3:"289364294;{e};t",4:"289364295;{e};u",5:"289364292;{e};r"}},de:{apps:{1:"289365532;{e};s",2:"289365530;{e};q",3:"289365528;{e};x",4:"289365526;{e};v",5:"289365524;{e};t"},books:{1:"289364275;{e};v",2:"289364274;{e};u",3:"289364277;{e};x",4:"289364276;{e};w",5:"289364271;{e};r"},movies:{1:"289364254;{e};o",2:"289364255;{e};p",3:"289364256;{e};q",4:"289364257;{e};r",5:"289365525;{e};q"},music:{1:"289364296;{e};v",2:"289364297;{e};w",3:"289364294;{e};t",4:"289364295;{e};u",5:"289364292;{e};r"}},fr:{apps:{1:"289365532;{e};s",2:"289365530;{e};q",3:"289365528;{e};x",4:"289365526;{e};v",5:"289365524;{e};t"},books:{1:"289364275;{e};v",2:"289364274;{e};u",3:"289364277;{e};x",4:"289364276;{e};w",5:"289364271;{e};r"},movies:{1:"289364254;{e};o",2:"289364255;{e};p",3:"289364256;{e};q",4:"289364257;{e};r",5:"289365525;{e};q"},music:{1:"289364296;{e};v",2:"289364297;{e};w",3:"289364294;{e};t",4:"289364295;{e};u",5:"289364292;{e};r"}},ru:{apps:{1:"289365532;{e};s",2:"289365530;{e};q",3:"289365528;{e};x",4:"289365526;{e};v",5:"289365524;{e};t"},books:{1:"289364275;{e};v",2:"289364274;{e};u",3:"289364277;{e};x",4:"289364276;{e};w",5:"289364271;{e};r"},movies:{1:"289364254;{e};o",2:"289364255;{e};p",3:"289364256;{e};q",4:"289364257;{e};r",5:"289365525;{e};q"},music:{1:"289364296;{e};v",2:"289364297;{e};w",3:"289364294;{e};t",4:"289364295;{e};u",5:"289364292;{e};r"}},es:{apps:{1:"289365532;{e};s",2:"289365530;{e};q",3:"289365528;{e};x",4:"289365526;{e};v",5:"289365524;{e};t"},books:{1:"289364275;{e};v",2:"289364274;{e};u",3:"289364277;{e};x",4:"289364276;{e};w",5:"289364271;{e};r"},movies:{1:"289364254;{e};o",2:"289364255;{e};p",3:"289364256;{e};q",4:"289364257;{e};r",5:"289365525;{e};q"},music:{1:"289364296;{e};v",2:"289364297;{e};w",3:"289364294;{e};t",4:"289364295;{e};u",5:"289364292;{e};r"}},it:{apps:{1:"289365532;{e};s",2:"289365530;{e};q",3:"289365528;{e};x",4:"289365526;{e};v",5:"289365524;{e};t"},books:{1:"289364275;{e};v",2:"289364274;{e};u",3:"289364277;{e};x",4:"289364276;{e};w",5:"289364271;{e};r"},movies:{1:"289364254;{e};o",2:"289364255;{e};p",3:"289364256;{e};q",4:"289364257;{e};r",5:"289365525;{e};q"},music:{1:"289364296;{e};v",2:"289364297;{e};w",3:"289364294;{e};t",4:"289364295;{e};u",5:"289364292;{e};r"}}},books:{en:{apps:{1:"289365513;{e};r",2:"289365511;{e};p",3:"289365509;{e};w",4:"289365507;{e};u",5:"289365505;{e};s"},books:{1:"289364268;{e};x",2:"289364269;{e};y",3:"289364262;{e};r",4:"289364263;{e};s",5:"289364264;{e};t"},movies:{1:"289365529;{e};u",2:"289365527;{e};s",3:"289365508;{e};r",4:"289365506;{e};p",5:"289365504;{e};n"},music:{1:"289364286;{e};u",2:"289364287;{e};v",3:"289364283;{e};r",4:"289364282;{e};q",5:"289364285;{e};t"}},de:{apps:{1:"289365513;{e};r",2:"289365511;{e};p",3:"289365509;{e};w",4:"289365507;{e};u",5:"289365505;{e};s"},books:{1:"289364268;{e};x",2:"289364269;{e};y",3:"289364262;{e};r",4:"289364263;{e};s",5:"289364264;{e};t"},movies:{1:"289365529;{e};u",2:"289365527;{e};s",3:"289365508;{e};r",4:"289365506;{e};p",5:"289365504;{e};n"},music:{1:"289364286;{e};u",2:"289364287;{e};v",3:"289364283;{e};r",4:"289364282;{e};q",5:"289364285;{e};t"}},fr:{apps:{1:"289365513;{e};r",2:"289365511;{e};p",3:"289365509;{e};w",4:"289365507;{e};u",5:"289365505;{e};s"},books:{1:"289364268;{e};x",2:"289364269;{e};y",3:"289364262;{e};r",4:"289364263;{e};s",5:"289364264;{e};t"},movies:{1:"289365529;{e};u",2:"289365527;{e};s",3:"289365508;{e};r",4:"289365506;{e};p",5:"289365504;{e};n"},music:{1:"289364286;{e};u",2:"289364287;{e};v",3:"289364283;{e};r",4:"289364282;{e};q",5:"289364285;{e};t"}},ru:{apps:{1:"289365513;{e};r",2:"289365511;{e};p",3:"289365509;{e};w",4:"289365507;{e};u",5:"289365505;{e};s"},books:{1:"289364268;{e};x",2:"289364269;{e};y",3:"289364262;{e};r",4:"289364263;{e};s",5:"289364264;{e};t"},movies:{1:"289365529;{e};u",2:"289365527;{e};s",3:"289365508;{e};r",4:"289365506;{e};p",5:"289365504;{e};n"},music:{1:"289364286;{e};u",2:"289364287;{e};v",3:"289364283;{e};r",4:"289364282;{e};q",5:"289364285;{e};t"}},es:{apps:{1:"289365513;{e};r",2:"289365511;{e};p",3:"289365509;{e};w",4:"289365507;{e};u",5:"289365505;{e};s"},books:{1:"289364268;{e};x",2:"289364269;{e};y",3:"289364262;{e};r",4:"289364263;{e};s",5:"289364264;{e};t"},movies:{1:"289365529;{e};u",2:"289365527;{e};s",3:"289365508;{e};r",4:"289365506;{e};p",5:"289365504;{e};n"},music:{1:"289364286;{e};u",2:"289364287;{e};v",3:"289364283;{e};r",4:"289364282;{e};q",5:"289364285;{e};t"}},it:{apps:{1:"289365513;{e};r",2:"289365511;{e};p",3:"289365509;{e};w",4:"289365507;{e};u",5:"289365505;{e};s"},books:{1:"289364268;{e};x",2:"289364269;{e};y",3:"289364262;{e};r",4:"289364263;{e};s",5:"289364264;{e};t"},movies:{1:"289365529;{e};u",2:"289365527;{e};s",3:"289365508;{e};r",4:"289365506;{e};p",5:"289365504;{e};n"},music:{1:"289364286;{e};u",2:"289364287;{e};v",3:"289364283;{e};r",4:"289364282;{e};q",5:"289364285;{e};t"}}}});t.exports=a},{"../../assetmanager":5,"../../config":9,"../../messaging":18,"../../tracking":19,"../../utilities":20}],12:[function(e,t){var n=e("../utilities"),i=e("./common"),a=e("./content"),o=e("../config"),r=e("../assetmanager"),s=Object.create(i);s.init=function(e,t,n,a,o,r){this.parent=r,this.parentID=r.id,i.init.apply(this,arguments),this.element.setAttribute("parent",this.parentID),this.translate.Z=this.width/2,this.renderedZ=this.rotation.Z},s.getElement=function(){return this.populateElement(n.getElement("div","side no"+(this.index+1),{index:this.index},{width:this.width+"px",height:this.height+"px"}))},s.populateElement=function(e){var t=o.global.language,i=o.global.entry;
if(this.parent.config.useBackgrounds){var s=new Image,u=this.parent.config.cropLargeFaces?"main":this.name,c=o.global.isCeltra?o.BASE_URL+a.background:a.background,d=n.format(c,{i:this.index+1,name:u,language:t});s.src=r.get(d).uri(),s.width=this.width,s.height=this.height,this.parent.config.cropLargeFaces&&(s.width*=2,s.height*=2,s.style.left=n.isOdd(this.parent.index)?-this.width+"px":0,s.style.top=this.parent.index<2?0:-this.height+"px"),e.appendChild(s)}if(this.parent.config.useContent&&0!==this.index){var l=document.createElement("span");l.className="content";var f=a.html(this.parent.config),h=a.base,p=a.entryId[i],m=n.format(a[this.parent.name][t][i][this.index],{e:p}),g=n.format(h,{id:m});l.innerHTML=n.format(f,{link:g}),e.appendChild(l),a.onload(e,this.parent.config)}var v=document.createElement("div");return v.className="shadow",v.style.width=this.width+"px",v.style.height=this.height+"px",e.appendChild(v),e},s.changeContent=function(e){var t=o.global.language;if(this.parent.config.useBackgrounds){var i=n("img",this.element)[0],s=o.global.isCeltra?o.BASE_URL+a.background:a.background,u=n.format(s,{i:e+1,name:this.name,language:t});i.src=r.get(u).uri()}if(this.parent.config.useContent){e=e>=a.sides[this.name].length?0:e;var c=a.sides[this.name][e],d=n(".content",this.element)[0];d.innerHTML=c.html(this.parent.config),c.onload(this.element,this.parent.config)}return e},s.render=function(){this.renderedZ=this.rotation.Z,i.render.apply(this)},t.exports=s},{"../assetmanager":5,"../config":9,"../utilities":20,"./common":10,"./content":11}],13:[function(e,t){var n=e("../utilities"),i=e("../tracking"),a=e("./common"),o=e("./matrix"),r=e("./face"),s=e("./shadow"),u=e("../config"),c=e("interpol"),d=e("../assetmanager"),l=e("./vect3"),f=Object.create(a);f.getElement=function(){return n.getElement("div","cube",{index:this.index},{width:this.width+"px",height:this.height+"px"})},f.init=function(e,t,f,h,p,m){function g(e){R.nextFaceIndex=0,R.faces.forEach(function(e){e.remove()});var t;e&&(t=n.clone(R.rotation),R.rotation={X:0,Y:0,Z:0},R.render()),R.faces=[];for(var i=0;6>i;i++){var a=Object.create(r);a.init(R.width,R.height,i,R.name,R.element,R),R.config.isSequential&&a.changeContent(R.currentContent),a.rotation.Y=1===i?180:2===i?90:3===i?-90:0,a.rotation.X=4===i?90:5===i?-90:0,a.render(),R.faces.push(a)}v(),e&&t&&(R.rotation=t,R.render())}function v(){R.faceData=R.faces.map(function(e){return n(".shadow",e.element)[0]}).map(function(e){var t=n.computeVertexData(e);return e.style.opacity=0,{verticies:t,normal:l.normalize(l.cross(l.sub(t.b,t.a),l.sub(t.c,t.a))),center:l.divs(l.sub(t.c,t.a),2),elem:e}})}function w(){R.element.addEventListener("touchstart",C),R.element.addEventListener("touchstart",function e(){n.emitter.emit("first_cube_interaction"),R.element.removeEventListener("touchstart",e)})}function y(){R.faces.forEach(function(e){e.rotation.Z=0,e.render()})}function x(){it=n.emitter.on(R.id,function(e){it&&(it=it()),C(e)})}function b(){var e=q(R.rotation);["LR","UD"].forEach(function(t){var i=e[t],a=R.rotation[i],o=n.nearest(a,90),r=Math.abs(a-o)/45,s=R.shadow.originalScale+r*R.shadow.hypRatio/2;R.shadow.scale["LR"===t?"X":"Y"]=s}),R.shadow.render()}function C(e){R.element.removeEventListener("touchstart",C);var t=e.changedTouches[0];O=t.clientX,z=t.clientY,_=Date.now(),N=O,P=z,H=W=!1,velocity=U=0,Q?(Q.pause(),$=Q):(J=k(e.target),R.config.isSequential&&(R.currentContent++,R.faces.filter(function(e){return e.index!==J.index}).forEach(function(e){R.currentContent=e.changeContent(R.currentContent)}))),at=n.clone(R.rotation),V=q(at),document.addEventListener("touchmove",E),document.addEventListener("touchend",M)}function E(e){it&&(it=it()),e.preventDefault();var t=e.changedTouches[0];j=t.clientX<N?"left":"right",Y=t.clientY<P?"up":"down",N=t.clientX,P=t.clientY;var i=document.elementFromPoint(N,P),a=S(i);if(a){var o=a.getAttribute("parent");if(o!==R.id){var r=function(){n.emitter.emit(o,n.extend({},e,{target:i}))};return void M(n.extend({},e,{onAnimComplete:r}))}}else if(!R.config.useInertia)return void M(e);var s=(O-N)/(R.width/90),d=(z-P)/(R.height/90),l=Math.abs(s),f=Math.abs(d);Math.max(l,f)<1||(n.isDefined(B)||(X=l>f?"leftright":"updown",B="leftright"===X?V.LR:V.UD,F(J,X)),G=Z,Z="leftright"===X?j:Y,G!==Z&&(W=!0,K=Date.now(),et=N,tt=P),nt=Date.now(),H=!0,U="leftright"===X?s:d,U=I(U),c.pipeline.has("render"+R.id)||c.pipeline.add("render"+R.id,function(){var e=R.rotation[B],t=Math.round(at[B]+U),i=n.nearest(t,90),a=n.nearest(e,90);i!==a&&u.global.useSound&&R.sound.play(),R.rotation[B]=t,R.render()}))}function M(e){if(document.removeEventListener("touchmove",E),document.removeEventListener("touchend",M),R.config.isSequential&&H||(R.element.addEventListener("touchstart",C),x()),!H)return void($&&($.play(),$=void 0));i.trackEvent("cube-interaction-rotate-"+Z,!0),c.pipeline.has("render"+R.id)&&c.pipeline.remove("render"+R.id);var t=e.changedTouches[0],a=Date.now(),o=t.clientX,r=t.clientY,s=o-et,d=r-tt,l="leftright"===X?s:d,f=a-K;l=0>l&&("right"===Z||"down"===Z)?Math.abs(l):l,l=l>0&&("left"===Z||"up"===Z)?-l:l;var h=l/f,p=Math.abs(l)<.8*R.width/2?1:0,m=at[B],g=R.rotation[B],v=n.nearest(g,90),w=1;if(R.config.useInertia&&Math.abs(h)>.8){var y=0>h?"min":"max",b=0>h?-p:p,k=Math.round(2*h);v-=I(90*Math[y](b,k)),w=Math.abs(v-g)/90}else{var S=n.nearest(m,90);v="up"===Z||"left"===Z?S+I(90):S-I(90)}var q,F=g,T=v,D="onAnimComplete"in e?100:300,O=!1;Q=c.tween().from(F).to(T).duration(Math.round(D*w)).ease(c.easing.easeOutCirc).step(function(t){q=q||t;var i=n.nearest(t,90),a=n.nearest(q,90);if(i!==a&&u.global.useSound&&R.sound.play(),R.rotation[B]=t,R.render(),q=t,"onAnimComplete"in e){var o=Math.abs(T-t);10>=o&&!O&&(O=!0,e.onAnimComplete())}}).complete(function(e){var t=n.norm(n.nearest(e,90)%360);R.rotation[B]=t,R.render(),A(),R.config.isSequential&&(R.element.addEventListener("touchstart",C),x()),B=void 0,Z=void 0,Q=void 0,L(R.rotation)}).start()}function k(e){var t=S(e);return n.isDefined(t)?R.faces[parseInt(t.getAttribute("index"),10)]:void 0}function S(e){for(var t=e;null!==t&&!/side/.test(t.className);)t=t.parentNode;return null!==t&&n.isDefined(t)?t:void 0}function q(e){var t=n.norm(n.nearest(e.X,90)%360),i=n.norm(n.nearest(e.Y,90)%360),a=90===t||270===t?"Z":"Y",o=90===i||270===i?"Z":"X",r=["X","Y","Z"].filter(function(e){return e!==a&&e!==o})[0];return{LR:a,UD:o,Mid:r}}function L(e,t){if(R.config.normaliseFacialRotation||"undefined"!=typeof t){var i=n.norm(n.nearest(e.X,90)%360),a=n.norm(n.nearest(e.Y,90)%360),r=n.norm(n.nearest(e.Z,90)%360);if("undefined"!=typeof t&&t!==!0)return o[t][i][a][r];for(var s=R.faces.length-1;s>=0;s--){var u=R.faces[s];u.rotation.Z=o[s][i][a][r],u.render()}}}function F(e,t){if(R.config.normaliseFacialRotation&&"updown"===t){var i=n.isEven(e.index)?e.index+1:e.index-1,a=R.faces[i];a.rotation.Z=a.renderedZ+180,a.render()}}function I(e){var t=n.norm(n.nearest(R.rotation.X,90)%360),i=n.norm(n.nearest(R.rotation.Y,90)%360);return"leftright"===X?180===t&&"Y"===B||90===t&&0===i||270===t&&("Z"!==B||180===i)?e:-e:270===i?-e:e}function A(){u.global.useGamification&&R.config.matchSides!==!1&&n.emitter.emit("rotation_complete")}function T(e){var t=document.elementFromPoint(n.windowWidth()/2,n.windowHeight()/2),i=k(t);R.name=e,R.faces.map(function(t){return t.name=e,t}).filter(function(e){return e.index!==i.index}).forEach(function(e){R.currentContent=e.changeContent(0)}),L(R.rotation);var a,o=q(R.rotation),r=n.range(0,100)<50?o.UD:o.LR,s=n.range(0,100)<50?90:-90;c.tween().from(0).to(s).ease(c.easing.easeOutCirc).step(function(e){R.rotation[r]=a+e,R.render()}).complete(function(){R.faces.forEach(function(e,t){e.changeContent(t)}),R.rotation.X=R.rotation.Y=R.rotation.Z=0,R.render(),v(),L(R.rotation)}).start(function(){a=R.rotation[r]})}a.init.apply(this,arguments),this.config=n.extend({},u.cube,m);var D="assets/sound/click.mp3";D=u.global.isCeltra?u.BASE_URL+D:D,this.sound=d.get(D),this.currentContent=0,this.nextFaceIndex=0,this.faces=[],this.faceData=[],this.shadow=Object.create(s),this.shadow.init(.8*this.width,.8*this.height,this.index,this.name,this.target.parentNode,this),this.shadow.opacity=this.config.castShadow?this.shadow.opacity:0,this.shadow.render(),this.light=n('[role="light"]')[0],this.lightTransform=n.getTransform(this.light);var R=this;g(),this.target.style[n.CSS_TRANSFORM]="translateZ(-"+this.width/2+"px)",this.config.autoListen&&w(),this.getFaceFromTarget=k,this.getNormalisedFaceRotation=L,this.rerenderFaces=g.bind(this,!0),this.resetNormalisedFaces=y,this.getAxisDefinition=q,this.changeCubeNameChangeInvisibleFacesAndRotate=T,this.forceRotationOfOppositeForFirstFace=F.bind(this,this.faces[0],"updown"),this.renderShadow=b,this.addInteractionListener=w;var O,z,_,N,P,V,B,X,j,Y,Z,G,U,H,W,Q,$,J,K,et,tt,nt,it,at=n.clone(this.rotation);document.addEventListener("touchstart",x),document.addEventListener("touchend",function(){it&&it()})},f.render=function(){if(a.render.call(this),this.config.castShadow&&this.renderShadow(),!u.global.useDynamicLighting)return void this.faceData.forEach(function(e){e.elem.style.opacity=0});for(var e,t,i,o=0,r=this.faceData.length,s=n.getTransform(this.element),c=l.rotate(this.lightTransform.translate,l.muls(s.rotate,-1));++o<r;)e=this.faceData[this.nextFaceIndex],t=l.normalize(l.sub(c,e.center)),i=1-Math.max(0,l.dot(e.normal,t)).toFixed(3),e.light!=i&&(e.light=i,e.elem.style.opacity=i),this.nextFaceIndex=(this.nextFaceIndex+1)%r},t.exports=f},{"../assetmanager":5,"../config":9,"../tracking":19,"../utilities":20,"./common":10,"./face":12,"./matrix":14,"./shadow":15,"./vect3":16,interpol:2}],14:[function(e,t){t.exports={0:{0:{0:{0:0,90:270,180:180,270:90},90:{0:0,90:270,180:180,270:90},180:{0:0,90:270,180:180,270:90},270:{0:0,90:270,180:180,270:90}},90:{0:{0:0,90:270,180:180,270:90},90:{0:270,90:180,180:90,270:0},180:{0:180,90:90,180:0,270:270},270:{0:90,90:0,180:270,270:180}},180:{0:{0:180,90:90,180:0,270:270},90:{0:180,90:90,180:0,270:270},180:{0:180,90:90,180:0,270:270},270:{0:180,90:90,180:0,270:270}},270:{0:{0:0,90:270,180:180,270:90},90:{0:90,90:0,180:270,270:180},180:{0:180,90:90,180:0,270:270},270:{0:270,90:180,180:90,270:0}}},1:{0:{0:{0:0,90:90,180:180,270:270},90:{0:0,90:90,180:180,270:270},180:{0:0,90:90,180:180,270:270},270:{0:0,90:90,180:180,270:270}},90:{0:{0:180,90:270,180:0,270:90},90:{0:90,90:180,180:270,270:0},180:{0:0,90:90,180:180,270:270},270:{0:270,90:0,180:90,270:180}},180:{0:{0:180,90:270,180:0,270:90},90:{0:180,90:270,180:0,270:90},180:{0:180,90:270,180:0,270:90},270:{0:180,90:270,180:0,270:90}},270:{0:{0:180,90:270,180:0,270:90},90:{0:270,90:0,180:90,270:180},180:{0:0,90:90,180:180,270:270},270:{0:90,90:180,180:270,270:0}}},2:{0:{0:{0:0,90:270,180:180,270:90},90:{0:0,90:180,180:180,270:180},180:{0:0,90:90,180:180,270:270},270:{0:0,90:0,180:180,270:0}},90:{0:{0:270,90:270,180:270,270:270},90:{0:180,90:180,180:180,270:0},180:{0:90,90:90,180:90,270:90},270:{0:0,90:0,180:0,270:180}},180:{0:{0:180,90:270,180:0,270:90},90:{0:180,90:180,180:0,270:180},180:{0:180,90:90,180:0,270:270},270:{0:180,90:0,180:0,270:0}},270:{0:{0:90,90:90,180:90,270:90},90:{0:180,90:0,180:180,270:180},180:{0:270,90:270,180:270,270:270},270:{0:0,90:180,180:0,270:0}}},3:{0:{0:{0:0,90:270,180:180,270:90},90:{0:0,90:0,180:180,270:0},180:{0:0,90:90,180:180,270:270},270:{0:0,90:180,180:180,270:180}},90:{0:{0:90,90:90,180:90,270:90},90:{0:0,90:180,180:0,270:0},180:{0:270,90:270,180:270,270:270},270:{0:180,90:0,180:180,270:180}},180:{0:{0:180,90:270,180:0,270:90},90:{0:180,90:0,180:0,270:0},180:{0:180,90:90,180:0,270:270},270:{0:180,90:180,180:0,270:180}},270:{0:{0:270,90:270,180:270,270:270},90:{0:0,90:0,180:0,270:180},180:{0:90,90:90,180:90,270:90},270:{0:180,90:180,180:180,270:0}}},4:{0:{0:{0:0,90:270,180:180,270:90},90:{0:90,90:270,180:90,270:90},180:{0:180,90:270,180:0,270:90},270:{0:270,90:270,180:270,270:90}},90:{0:{0:180,90:180,180:180,270:180},90:{0:270,90:90,180:90,270:90},180:{0:0,90:0,180:0,270:0},270:{0:90,90:270,180:270,270:270}},180:{0:{0:0,90:90,180:180,270:270},90:{0:90,90:90,180:90,270:270},180:{0:180,90:90,180:0,270:270},270:{0:270,90:90,180:270,270:270}},270:{0:{0:0,90:0,180:0,270:0},90:{0:90,90:90,180:270,270:90},180:{0:180,90:180,180:180,270:180},270:{0:270,90:270,180:90,270:270}}},5:{0:{0:{0:0,90:270,180:180,270:90},90:{0:270,90:270,180:270,270:90},180:{0:180,90:270,180:0,270:90},270:{0:90,90:270,180:90,270:90}},90:{0:{0:0,90:0,180:0,270:0},90:{0:270,90:270,180:90,270:270},180:{0:180,90:180,180:180,270:180},270:{0:90,90:90,180:270,270:90}},180:{0:{0:0,90:90,180:180,270:270},90:{0:270,90:90,180:270,270:270},180:{0:180,90:90,180:0,270:270},270:{0:90,90:90,180:90,270:270}},270:{0:{0:180,90:180,180:180,270:180},90:{0:90,90:270,180:270,270:270},180:{0:0,90:0,180:0,270:0},270:{0:270,90:90,180:90,270:90}}}}},{}],15:[function(e,t){var n=e("../utilities"),i=e("./common"),a=(e("../config"),Object.create(i));a.init=function(e,t,n,a,o,r){this.originalScale=2,this.parent=r,this.scale={X:this.originalScale,Y:this.originalScale},this.opacity=.5,i.init.apply(this,arguments),this.translate.Z=-(.8*this.height),this.hypotenuse=Math.sqrt(this.width*this.width+this.height*this.height),this.hypRatio=this.hypotenuse/this.width-1},a.getElement=function(){var e=1.5,t="25px";return n.getElement("div","cube-shadow",{},{width:this.width/e+"px",height:this.height/e+"px",borderRadius:t})},a.render=function(){i.render.apply(this),this.element.style[n.CSS_TRANSFORM]+=" scale("+this.scale.X+","+this.scale.Y+")",this.element.style.opacity=this.opacity},t.exports=a},{"../config":9,"../utilities":20,"./common":10}],16:[function(e,t){var n={create:function(e,t,n){return{x:e||0,y:t||0,z:n||0}},add:function(e,t){return{x:e.x+t.x,y:e.y+t.y,z:e.z+t.z}},sub:function(e,t){return{x:e.x-t.x,y:e.y-t.y,z:e.z-t.z}},mul:function(e,t){return{x:e.x*t.x,y:e.y*t.y,z:e.z*t.z}},div:function(e,t){return{x:e.x/t.x,y:e.y/t.y,z:e.z/t.z}},muls:function(e,t){return{x:e.x*t,y:e.y*t,z:e.z*t}},divs:function(e,t){return{x:e.x/t,y:e.y/t,z:e.z/t}},len:function(e){return Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z)},dot:function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z},cross:function(e,t){return{x:e.y*t.z-e.z*t.y,y:e.z*t.x-e.x*t.z,z:e.x*t.y-e.y*t.x}},normalize:function(e){return n.divs(e,n.len(e))},ang:function(e,t){return Math.acos(n.dot(e,t)/(n.len(e)*n.len(t)))},copy:function(e){return{x:e.x,y:e.y,z:e.z}},equal:function(e,t){return e.x===t.x&&e.y===t.y&&e.z===t.z},rotate:function(e,t){var n=e.x,i=e.y,a=e.z,o=t.x/2,r=t.y/2,s=t.z/2,u=Math.cos(o),c=Math.cos(r),d=Math.cos(s),l=Math.sin(o),f=Math.sin(r),h=Math.sin(s),p=u*c*d+-l*f*h,m=l*c*d- -u*f*h,g=u*f*d+l*c*-h,v=u*c*h- -l*f*d,w=1-2*(g*g+v*v),y=2*(m*g+v*p),x=2*(m*v-g*p),b=2*(m*g-v*p),C=1-2*(m*m+v*v),E=2*(v*g+m*p),M=2*(m*v+g*p),k=2*(g*v-m*p),S=1-2*(m*m+g*g);return{x:n*w+i*b+a*M,y:n*y+i*C+a*k,z:n*x+i*E+a*S}}};t.exports=n},{}],17:[function(e,t){function n(){i();var e=r('[role="debug"]')[0],t=document.createElement("div");t.className="close",t.addEventListener("tap",function(){e.classList.add("hidden"),document.addEventListener("touchmove",r.prevent),r.emitter.emit("debug_panel",!1)});var n=document.createElement("div");n.className="open",n.innerHTML="<span></span>",n.addEventListener("tap",function(){e.classList.remove("hidden"),document.removeEventListener("touchmove",r.prevent),r.emitter.emit("debug_panel",!0)});var a=document.createElement("div");a.className="main",e.appendChild(t),e.appendChild(n),e.appendChild(a);var u=document.createElement("h1");u.innerText="Cube Properties",a.appendChild(u),o=document.createElement("ul"),a.appendChild(o);var c=document.createElement("h1");c.innerText="Global Properties",a.appendChild(c);var d=document.createElement("ul");Object.keys(s.global).forEach(function(e){var t=document.createElement("li"),n=document.createElement("input");n.type="checkbox",n.id=e,s.global[e]&&n.setAttribute("checked",!0),n.addEventListener("change",function(t){s.global[e]=t.target.checked});var i=document.createElement("label");i.setAttribute("for",e),i.innerHTML="<h1>"+s.titles[e]+"</h1><p>"+s.descriptions[e]+"</p>",t.appendChild(n),t.appendChild(i),d.appendChild(t)}),a.appendChild(d),r.emitter.on("global_config_change",function(e,t){var n=r("input#"+e,a)[0];n.checked=t?!0:!1})}function i(){function e(){n.update(),i.update()}var t=r('[role="metrics"]')[0],n=new u;n.domElement.style.position="absolute",n.domElement.style.right="0px",n.domElement.style.bottom="0px";var i=new u;i.setMode(1),i.domElement.style.position="absolute",i.domElement.style.right="80px",i.domElement.style.bottom="0px",t.appendChild(n.domElement),t.appendChild(i.domElement),n.domElement.style.display=s.global.displayMetrics?"block":"none",i.domElement.style.display=s.global.displayMetrics?"block":"none",s.global.displayMetrics&&c.pipeline.add("stats",e),r.emitter.on("global_config_change",function(t,a){"displayMetrics"===t&&(n.domElement.style.display=a?"block":"none",i.domElement.style.display=a?"block":"none",c.pipeline[a?"add":"remove"]("stats",e))})}function a(e){if(o){o.innerHTML="";var t=e.map(function(e){return e.config});Object.keys(t[0]).forEach(function(n){var i=document.createElement("li"),a=document.createElement("input");a.type="checkbox",a.id=n,t[0][n]&&a.setAttribute("checked",!0),a.addEventListener("change",function(i){var a=i.target.checked;switch(t.forEach(function(e){"useVideo"!==n&&"useGif"!==n||!a||(e.useContent=!0,r("input#useContent",o)[0].checked=!0),"useContent"!==n||a||(e.useVideo=e.useGif=!1,r("input#useVideo",o)[0].checked=!1,r("input#useGif",o)[0].checked=!1),"isSequential"===n&&a&&(e.useInertia=!1,r("input#useInertia",o)[0].checked=!1),e[n]=a}),n){case"normaliseFacialRotation":case"useBackgrounds":case"useContent":case"useVideo":case"useGif":case"isSequential":e.forEach(function(e){e.rerenderFaces(),e.getNormalisedFaceRotation(e.rotation,!0)}),"normaliseFacialRotation"!==n||a||e.forEach(function(e){e.resetNormalisedFaces()})}});var u=document.createElement("label");u.setAttribute("for",n),u.innerHTML="<h1>"+s.titles[n]+"</h1><p>"+s.descriptions[n]+"</p>",i.appendChild(a),i.appendChild(u),o.appendChild(i)})}}var o,r=e("../utilities"),s=e("../config"),u=e("stats"),c=e("interpol");t.exports={init:n,defineCubeProperties:a}},{"../config":9,"../utilities":20,interpol:2,stats:3}],18:[function(e,t){var n,i;window.addEventListener("message",function(e){if(console.log(e),/\.celtra/.test(e.origin))switch(n&&i||(n=e.source,i=e.origin),e.data){case"init":n.postMessage("received_init",i)}});var a={post:function(e){n&&i&&n.postMessage(e,i)}};t.exports=a},{}],19:[function(e,t){var n,i,a,o=e("./utilities"),r=e("./config"),s="cta-exit-lang:{language}-start:{entry}-url:{href}",u={init:function(e,t,o){n=t,i=o,a=e},trackEvent:function(e,t){return r.global.isCeltra?(t&&a.trackUserInteraction(),void n.trackCustomEventAction(a,{name:e},function(){})):void console.log("Tracking :: "+e)},goToURL:function(e){return this.trackEvent(o.format(s,o.extend({href:e},r.global))),r.global.isCeltra?void i.goToURLAction(a,{url:e,reportLabel:e},function(){}):void console.log("Go To URL :: "+e)}};t.exports=u},{"./config":9,"./utilities":20}],20:[function(e,t){function n(e){var t=document.createElement("div"),n=null;return e.forEach(function(e){"undefined"!=typeof t.style[e]&&(n=e)}),n}function i(e){var t=e.charAt(0).toUpperCase()+e.substring(1),i=" ms Moz Webkit O".split(" ").map(function(n){return""===n?e:n+t});return n(i)}function a(e,t){return Array.prototype.slice.call((t||c).querySelectorAll(e))}function o(e){var t,n=e.split(/\s*[(),]\s*/).slice(1,-1);return t=6===n.length?{m11:+n[0],m21:+n[2],m31:0,m41:+n[4],m12:+n[1],m22:+n[3],m32:0,m42:+n[5],m13:0,m23:0,m33:1,m43:0,m14:0,m24:0,m34:0,m44:1}:16===n.length?{m11:+n[0],m21:+n[4],m31:+n[8],m41:+n[12],m12:+n[1],m22:+n[5],m32:+n[9],m42:+n[13],m13:+n[2],m23:+n[6],m33:+n[10],m43:+n[14],m14:+n[3],m24:+n[7],m34:+n[11],m44:+n[15]}:{m11:1,m21:0,m31:0,m41:0,m12:0,m22:1,m32:0,m42:0,m13:0,m23:0,m33:1,m43:0,m14:0,m24:0,m34:0,m44:1}}function r(e,t){return{x:e.x+t.x,y:e.y+t.y,z:e.z+t.z}}function s(e,t){var n=e.x,i=e.y,a=e.z,o=t.x/2,r=t.y/2,s=t.z/2,u=Math.cos(o),c=Math.cos(r),d=Math.cos(s),l=Math.sin(o),f=Math.sin(r),h=Math.sin(s),p=u*c*d+-l*f*-h,m=l*c*d- -u*f*-h,g=u*f*d+l*c*h,v=u*c*h- -l*f*-d,w=1-2*(g*g+v*v),y=2*(m*g+v*p),x=2*(m*v-g*p),b=2*(m*g-v*p),C=1-2*(m*m+v*v),E=2*(v*g+m*p),M=2*(m*v+g*p),k=2*(g*v-m*p),S=1-2*(m*m+g*g);return{x:n*w+i*b+a*M,y:n*y+i*C+a*k,z:n*x+i*E+a*S}}var u=window,c=document;a.ready=function(e){return"complete"===c.readyState?setTimeout(e,1):void u.addEventListener("DOMContentLoaded",e)},a.extend=function(){for(var e=[].slice.call(arguments),t=e[0],n=1,i=e.length;i>n;n++){var a=e[n];for(var o in a)a.hasOwnProperty(o)&&(t[o]=a[o])}return t},a.clone=function(e){return a.extend({},e)},a.norm=function(e){return e>=0?e:360-Math.abs(e)},a.deg2rad=function(e){return.017453292519943295*e},a.rad2deg=function(e){return 57.29577951308232*e},a.prevent=function(e){e.preventDefault()},a.format=function(e,t){return e.toString().replace(/\{([^}]+)\}/g,function(e,n){return t[n]})},a.range=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},a.floatRange=function(e,t){return Math.random()*(t-e)+e},a.nearest=function(e,t){return Math.round(e/t)*t},a.isEven=function(e){return e%2===0},a.isOdd=function(e){return e%2!==0},a.isDefined=function(e){return void 0!==e},a.getElement=function(e,t,n,i){var a=c.createElement(e);return a.className=t,Object.keys(n).forEach(function(e){a.setAttribute(e,n[e])}),Object.keys(i).forEach(function(e){a.style[e]=i[e]}),a},a.getRandomRotation=function(e){return e=e||[0,90,180,270],e[a.range(0,e.length-1)]},a.emitter=function(){function e(){var e=[].slice.call(arguments),t=e[0],i=e[1],o=e[2]||a;n[t]=n[t]||[],n[t].push({fn:i,scope:o});var r=n[t].length-1;return function(){n[t].splice(r,1)}}function t(){var e=[].slice.call(arguments),t=e[0],i=e.slice(1);t in n&&n[t].forEach(function(e){e.fn.apply(e.scope,i)})}var n={};return{on:e,emit:t}}(),a.windowWidth=function(){if("undefined"!=typeof u.innerWidth)return function(){return u.innerWidth};var e="clientWidth"in c.documentElement?c.documentElement:c.body;return function(){return e.clientWidth}}(),a.windowHeight=function(){if("undefined"!=typeof u.innerHeight)return function(){return u.innerHeight};var e="clientHeight"in c.documentElement?c.documentElement:c.body;return function(){return e.clientHeight}}(),a.CSS_TRANSFORM=i("transform"),a.CSS_TRANSFORM_ORIGIN=i("transformOrigin"),a.CSS_PERSPECTIVE=i("perspective"),a.computeVertexData=function(e){for(var t,n=e.offsetWidth,i=e.offsetHeight,o={a:{x:-n/2,y:-i/2,z:0},b:{x:n/2,y:-i/2,z:0},c:{x:n/2,y:i/2,z:0},d:{x:-n/2,y:i/2,z:0}};1===e.nodeType;)t=a.getTransform(e),o.a=r(s(o.a,t.rotate),t.translate),o.b=r(s(o.b,t.rotate),t.translate),o.c=r(s(o.c,t.rotate),t.translate),o.d=r(s(o.d,t.rotate),t.translate),e=e.parentNode;return o},a.getTransform=function(e){var t,n,i=getComputedStyle(e,null)[a.CSS_TRANSFORM],r=o(i),s=Math.asin(-r.m13);return t=Math.atan2(r.m23,r.m33),n=Math.atan2(r.m12,r.m11),{transformStyle:i,matrix:r,rotate:{x:t,y:s,z:n},translate:{x:r.m41,y:r.m42,z:r.m43}}},function(){if(c.addEventListener){var e,t,n=function(e,t){var n=c.createEvent("CustomEvent");return n.initCustomEvent(t,!0,!0,e.target),e.target.dispatchEvent(n)||n.preventDefault(),n=null,!1},i=!0,a={x:0,y:0},o={x:0,y:0},r={touchstart:function(e){a.x=e.touches[0].pageX,a.y=e.touches[0].pageY},touchmove:function(e){i=!1,o.x=e.touches[0].pageX,o.y=e.touches[0].pageY},touchend:function(r){if(i){if(n(r,"fastclick"),n(r,"tap"),r.target===e){var s=Date.now()-t;500>s&&n(r,"doubletap")}e=r.target,t=Date.now()}else{var u=o.x-a.x,c=Math.abs(u),d=o.y-a.y,l=Math.abs(d);Math.max(c,l)>20&&(n(r,c>l?0>u?"swipeleft":"swiperight":0>d?"swipeup":"swipedown"),i=!0)}},touchcancel:function(){i=!1}};for(var s in r)c.addEventListener(s,r[s])}}(),t.exports=a},{}]},{},[1]);