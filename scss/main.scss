@import 'partials/mixins';

@include keyframes(rotate) {
    0% { 
		transform: perspective(120px) rotateX(0deg) rotateY(0deg);
	} 50% { 
		transform: perspective(120px) rotateX(-180.1deg) rotateY(0deg);
	} 100% { 
		transform: perspective(120px) rotateX(-180deg) rotateY(-179.9deg);
	}
}

* {
	box-sizing: border-box;
	font-family: 'Roboto', 'Helvetica Neue', sans-serif;
	font-weight: 300;
	-webkit-tap-highlight-color: rgba(0,0,0,0);
  	-webkit-tap-highlight-color: transparent;
}

html, body {
	background: white;
	padding: 0; margin: 0;
	background: radial-gradient(ellipse at center, #ffffff 0%,#ccc 100%);
	perspective: 550px;
	overflow: hidden;
	font-family: Georgia, serif;
}

a {
	color: white;
}

[role="background"] {
	width: 100vw;
	height: 100vh;
	position: absolute;
	top: 0;
	left: 0;
	z-index: -1;
	pointer-events: none;
}

[role="metrics"] {
	pointer-events: none;
}

[role="main"] {
	width: 100vw;
	height: 100vh;
	transform-style: preserve-3d;
	transform-origin: 50% 50% 100px;
	
	z-index: 100;

	&.covered {
		pointer-events: none;
	}
}

[role="cube"] {
	width: 100vw;
	height: 100vh;
	transform-style: preserve-3d;
	z-index: 101;	
}

[role="light"] {
	width: 5px;
	height: 5px;
	position: absolute;
	top: 0; bottom: 0;
	left: 0; right: 0;
	margin: auto;
	transform: translate3d(0, 0, 750px);
}

[role="loader"] {
	position: absolute;
	top: 0; bottom: 0;
	left: 0; right: 0;
	margin: auto;
	width: 100vw;
	height: 100vh;
	background: rgba(black, 0.6);
	transition: opacity 0.3s ease-out;
	opacity: 1;
	pointer-events: none;

	& > div {
		position: absolute;
		top: 0; bottom: 0;
		left: 0; right: 0;
		margin: auto;
		width: 50px;
		height: 50px;
		background: white;

		//margin: 100px auto;
		animation: rotate 1.2s infinite ease-in-out;
	}

	&.off {
		opacity: 0;
	}

	
}

[role="debug"] {
	width: 100vw;
	height: 100vh;
	padding: 70px 5vw 20px 5vw;
	position: absolute;
	top: 0;
	left: 0;
	background: rgba(white, 1);
	transition: left 0.4s ease;

	h1 {
		margin-top: 0;
	}

	&.hidden {
		left: -100vw;
	}

	.main {
		height: 100%;
		overflow-y: scroll;
	}

	.close {
		width: 30px;
		height: 30px;
		display: block;
		position: absolute;
		top: 20px;
		right: 20px;
		cursor: pointer;

		&:before, &:after {
			content: ' ';
			display: block;
			width: 42px;
			height: 1px;
			background: #777;
			position: absolute;
			top: 50%;
			left: -6px;
		}

		&:before {
			transform: rotate(45deg);
		}

		&:after {
			transform: rotate(-45deg);
		}
	}

	.open {
		width: 70px;
		height: 70px;
		display: block;
		background: white;
		position: absolute;
		top : 0;
		right: -70px;

		span {
			display: block;
			width: 30px;
			height: 1px;
			background: #777;
			position: absolute;
			top: 50%;
			left: 20px;

			&:before, &:after {
				content: ' ';
				display: block;
				position: absolute;
				width: 100%;
				height: 1px;
				background: #777;
			}

			&:before {
				top: 10px;
			}

			&:after {
				bottom: 10px;
			}
		}
	}

	p {
		color: #777;
		display: inline-block;
		margin: 0;
		font-family: 'Helvetica Neue', sans;
	}

	ul {
		list-style: none;
		padding: 0;

		li {
			cursor: pointer;
			background: white;
			border: 1px solid #e6e6e6;
			
			border-radius: 3px;
			box-shadow: 0 1px 2px 0 rgba(black, 0.1);
			margin-bottom: 10px;
			
			&:after {
				clear: both;
			}
		}
	}

	label {
		position: relative;
		display: block;
		height: 100%;
		padding: 10px 10px 10px 50px;
		overflow: hidden;
		z-index: 0;

		h1 {
			font-size: 12px;
			font-weight: 500;
			margin: 0;
			color: #000;
		}

		p {
			font-size: 12px;
			margin: 0;
		}

		&:before {
			content: ' ';
			position: absolute;
			width: 20px;
			height: 20px;
			border-radius: 30px;
			top: 50%;
			left: 15px;
			margin-top: -10px;
			background: #F44336;
			box-shadow: inset 0 2px 5px 0 rgba(black, 0.5), 0 1px 0 0 rgba(black, 0.2);
		}

		&:after {
			content: ' ';
			position: absolute;
			width: 20px;
			height: 20px;
			top: 50%;
			bottom: 0;
			left: 15px;
			right: 0;
			margin-top: -10px;
			border-radius: 50px;
			background: #C8E6C9;
			transform: scale(0);
			transition: all .2s ease-out;
			z-index: -1;
		}
	}

	input[type="checkbox"] {
		position: absolute;
		visibility: hidden;

		&:checked + label {
			&:before {
				background: #8BC34A;
			}

			&:after {
				background: transparent;
				transform: scale(70);
			}
		}
	}
}

.fold-container {
	position: absolute;
	top: 0; bottom: 0;
	left: 0; right: 0;
	margin: auto;
	transform-style: preserve-3d;

	.blackout {
		position: absolute;
		width: 100%;
		height: 100%;
		background: black;
		top: 0; left: 0;
		transform: translateZ(-0.5px);
	}

	.fold {
		position: absolute;
		backface-visibility: hidden;

		img {
			transform: translate3d(0, 0, 0);
		}

		.shadow {
			position: absolute;
			width: 100%;
			height: 100%;
			background: black;
			top: 0; left: 0;
			transform: translate3d(0, 0, 0);
		}
	}
}

.cube-container {
	position: absolute;
	top: 0; bottom: 0;
	left: 0; right: 0;
	margin: auto;
	transform-style: preserve-3d;
}

.cube {
	// overflow: hidden;
	position: absolute;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
	transform-style: preserve-3d;
	display: inline-block;
	margin: auto;

	&.disabled {
		pointer-events: none;
	}

	.side {
		backface-visibility: visible;
		background: white;
		position: absolute;
		transform-style: preserve-3d;

		.vid {
			width: 125px;
			height: 70px;
			position: absolute;
			top: 0;
			left: 0;
			bottom: 0;
			right: 0;
			margin: auto;
			background: black;

			&:after {
				content: ' ';
				display: block;
				width: 1px;
				height: 1px;
				border-left: 20px solid white;
				border-top: 10px solid transparent;
				border-bottom: 10px solid transparent;
				position: absolute;
				left: 0;
				right: 0;
				top: 0;
				bottom: 0;
				margin: auto;
			}
		}

		.shadow {
			position: absolute;
			top: 0;
			left: 0;
			pointer-events: none;
			background: black;
			transform: translate3d(0, 0, 0);
		}

		div.cover {
			width: 100%;
			height: 100%;
			position: absolute;
			top: 0;
		}

		img {
			position: absolute;
			top: 0;
			left: 0;
			//transform: translate3d(0, 0, 0);

			&.gif {
				bottom: 0;
				left: 0;
				top: initial;
			}
		}

		// video {
		// 	position: absolute;
		// 	bottom: 0;
		// 	right: 0;
		// 	left: 0;
		// 	top: 0;
		// 	margin: auto;
		// 	pointer-events: none;
		// }

		span {
			position: absolute;
			width: 100%;
			height: 100%;
			top: 0;
			left: 0;
			text-align: center;
		}
	}

}